<!DOCTYPE html>
<html lang="en-US">
<!--   Student name: Nguyen Hoang Trung Hieu
       Student ID: 142914191  -->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hieu Computer</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/Logo_icon.png" />
  <script src="script.js"></script>

  <!-- bootstrap - font awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body id="main-body">
  <nav class="fixed-top">
    <div id="menu-top">
      <div class="menu">
        <ul>
          <li class="icon-home">
            <a href="index.html" onclick="Home()">
              <img src="images/Logo_w.png" alt="Logo" />
            </a>
          </li>
          <li class="search-background">
            <input id="search-keyword" type="text" name="textMail" placeholder="Seach..." />
            <button class="btn-search">
              <i class="fa fa-search"></i>
            </button>
          </li>
          <li>
            <a href="index.html" class="active" onclick="Home()">Home</a>
          </li>
          <li>
            <a href="#" class="active" onclick="filterPhone()">Phone</a>
          </li>
          <li>
            <a href="#" class="active" onclick="filterLaptop()">Laptop</a>
          </li>
          <li>
            <a href="#" class="active" onclick="filterAccessories()">Accessories</a>
          </li>
          <li>
            <a href="#" class="active" onclick="filterDeals()">Deals</a>
          </li>
          <li>
            <a href="contact.html" class="active">Services</a>
          </li>
          <li>
            <a href="#" class="cart">
              <span class="icon-cart">
                <span id="shopping-cart">
                  <span class="fa fa-shopping-cart" style="font-size:36px"></span>
                </span>
              </span>
            </a>
          </li>
          <li>
            <span id="count-item" data-count="0">0 item</span>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div id="hometext">
    <p class="welcome">Shopping with Hieu Computer's</p>
    <h2>Welcome to my store!</h2>
  </div>

  <!-- Carousel slides -->
  <div id="banner">
    <div id="slides" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#slides" data-slide-to="0" class="active"></li>
        <li data-target="#slides" data-slide-to="1"></li>
        <li data-target="#slides" data-slide-to="2"></li>
        <li data-target="#slides" data-slide-to="3"></li>
        <li data-target="#slides" data-slide-to="4"></li>
      </ol>
      <div class="carousel-inner">
        <div class="item active">
          <img src="images/banner_01.jpg" alt="banner_01" style="width:100%;" />
          <div class="carousel-caption"></div>
        </div>
        <div class="item">
          <img src="images/banner_02.jpg" alt="banner_02" style="width:100%;" />
          <div class="carousel-caption"></div>
        </div>
        <div class="item">
          <img src="images/banner_03.jpg" alt="banner_03" style="width:100%;" />
          <div class="carousel-caption"></div>
        </div>
        <div class="item">
          <img src="images/banner_04.jpg" alt="banner_04" style="width:100%;" />
          <div class="carousel-caption"></div>
        </div>
        <div class="item">
          <img src="images/banner_05.jpg" alt="banner_05" style="width:100%;" />
          <div class="carousel-caption"></div>
        </div>
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="#slides" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#slides" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
  <div id="sell-item">
    <div class="products">
      <div class="list-products"></div>
    </div>
  </div>

  <footer id="footer">
    <div class="footer-content">
      <div class="col-1">
        <h3>Shop</h3>
        <ul>
          <li>
            <a href="#">Offer</a>
          </li>
          <li>
            <a href="#">FAQ</a>
          </li>
        </ul>
      </div>
      <div class="col-2">
        <h3>Support</h3>
        <ul>
          <li>
            <a href="#">Live Chat</a>
          </li>
          <li>
            <a href="contact.html">Contact Us</a>
          </li>
          <li>
            <a href="#">Service Location</a>
          </li>
        </ul>
      </div>
      <div class="col-3">
        <h3>About Us</h3>
        <ul>
          <li>
            <a href="#">Name: Nguyen Hoang Trung Hieu</a>
          </li>
          <li>
            <a href="#">Email: hthnguyen@myseneca.ca</a>
          </li>
        </ul>
      </div>
      <div class="col-4">
        <h3>Subcribe</h3>
        <h4>Be the first to know</h4>
        <p style="text-align: justify;">
          Sign up to stay in the loop about the hottest deals, coolest new products, and exclusive
          sales events.
        </p>
        <form id="form-email" method="POST" action="https://formspree.io/xlepvdrq">
          <input id="emailAddress" type="email" name="Email" placeholder="Email address"
            title="Invalid email address" />
          <button type="submit">Sign Up</button>
          <div id="error"></div>
        </form>
      </div>
    </div>
    <div class="following">
      <h3>Follow Us</h3>
      <a href="#" class="fa fa-facebook"></a>
      <a href="#" class="fa fa-twitter"></a>
      <a href="#" class="fa fa-google"></a>
      <a href="#" class="fa fa-linkedin"></a>
      <a href="#" class="fa fa-youtube"></a>
      <a href="#" class="fa fa-instagram"></a>
    </div>
  </footer>

  <script>
    /* Animation add to cart */
    $(document).on('click', '.btn-buy-now', function (event) {
      event.preventDefault();
      if ($(this).hasClass('disable')) return false;
      $(document)
        .find('.btn-buy-now')
        .addClass('disable');
      var parent = $(this).parents('.product');
      var cart = $(document).find('#shopping-cart');
      var src = parent.find('img').attr('src');
      var topLocation = parent.offset().top;
      var leftLocation = parent.offset().left;
      $('<img />', {
        class: 'img-child',
        src: src
      })
        .appendTo('body')
        .css({
          top: parseInt(topLocation),
          left: parseInt(leftLocation) + 125
        });
      setTimeout(function () {
        $(document)
          .find('.img-child')
          .css({
            top: cart.offset().top,
            left: cart.offset().left
          });
        setTimeout(function () {
          $(document)
            .find('.img-child')
            .remove();
          $(document)
            .find('.btn-buy-now')
            .removeClass('disable');
        }, 1000);
      }, 500);
    });
  </script>

  <script>
    /* Website load a list of products*/
    document.querySelector('.list-products').innerHTML = products
      .map(
        (item, index) =>
          `<div class="product" index=${index}>
              <div class="img-product">
                <a href="#"><img src='${item.image}' /></a>
                <div class="link-detail-cart">
                  <a name="active-ele" class="link-detail" onclick="handleShowDesc(${index})">
                  <i class="fa fa-info"></i></a>
                  <a href="javascript:void(0)" class='add-to-cart btn-buy-now'>
                  <i class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
              <div class='name-price'>
                <a href="#">${item.name} </a>
                <div class='block-prices'>
                  <span class="prices">${item.price}</span><br>
                  <span class="prices-promo">${item.priceSale}</span>
                </div>
              </div>
            <div class="brand-product"><a href="#">${item.brand}</a></div>
            <div index=${index} name='description-product' class="description">
              <p>${item.desc}</p>
              <button onclick="handleIgnoreDesc(${index})">X</button>
            </div>
          </div>`
      )
      .join('');

    /* Home dislay products */
    Home = () => {
      let home = (document.querySelector('.list-products').innerHTML = products
        .map(
          (item, index) =>
            `<div class="product" index=${index}>
              <div class="img-product">
                <a href="#"><img src='${item.image}' /></a>
                <div class="link-detail-cart">
                  <a name="active-ele" class="link-detail" onclick="handleShowDesc(${index})">
                  <i class="fa fa-info"></i></a>
                  <a href="javascript:void(0)" class='add-to-cart btn-buy-now'>
                  <i class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
              <div class='name-price'>
                <a href="#">${item.name} </a>
                <div class='block-prices'>
                  <span class="prices">${item.price}</span>
                  <span class="prices-promo">${item.priceSale}</span>
                </div>
              </div>
            <div class="brand-product"><a href="#">${item.brand}</a></div>
            <div index=${index} name='description-product' class="description">
              <p>${item.desc}</p>
              <button onclick="handleIgnoreDesc(${index})">X</button>
            </div>
          </div>`
        )
        .join(''));
    };

    /* Filter Phone items */
    filterPhone = () => {
      let filterProducts = document.querySelector('.list-products');
      filterProducts.innerHTML = '';
      productsPhone = products.filter(x => x.category === 'Phone');
      filterProducts.innerHTML = productsPhone
        .map(
          (item, index) =>
            `<div class="product" index=${index}>
              <div class="img-product">
                <a href="#"><img src='${item.image}' /></a>
                <div class="link-detail-cart">
                  <a name="active-ele" class="link-detail" onclick="handleShowDesc(${index})">
                  <i class="fa fa-info"></i></a>
                  <a href="javascript:void(0)" class='add-to-cart btn-buy-now'>
                  <i class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
              <div class='name-price'>
                <a href="#">${item.name} </a>
                <div class='block-prices'>
                  <span class="prices">${item.price}</span>
                  <span class="prices-promo">${item.priceSale}</span>
                </div>
              </div>
            <div class="brand-product"><a href="#">${item.brand}</a></div>
            <div index=${index} name='description-product' class="description">
              <p>${item.desc}</p>
              <button onclick="handleIgnoreDesc(${index})">X</button>
            </div>
          </div>`
        )
        .join('');
    };

    /* Filter Laptop items */
    filterLaptop = () => {
      let filterProducts = document.querySelector('.list-products');
      filterProducts.innerHTML = '';
      productsLaptop = products.filter(x => x.category === 'Laptop');
      filterProducts.innerHTML = productsLaptop
        .map(
          (item, index) =>
            `<div class="product" index=${index}>
              <div class="img-product">
                <a href="#"><img src='${item.image}' /></a>
                <div class="link-detail-cart">
                  <a name="active-ele" class="link-detail" onclick="handleShowDesc(${index})">
                  <i class="fa fa-info"></i></a>
                  <a href="javascript:void(0)" class='add-to-cart btn-buy-now'>
                  <i class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
              <div class='name-price'>
                <a href="#">${item.name} </a>
                <div class='block-prices'>
                  <span class="prices">${item.price}</span>
                  <span class="prices-promo">${item.priceSale}</span>
                </div>
              </div>
            <div class="brand-product"><a href="#">${item.brand}</a></div>
            <div index=${index} name='description-product' class="description">
              <p>${item.desc}</p>
              <button onclick="handleIgnoreDesc(${index})">X</button>
            </div>
          </div>`
        )
        .join('');
    };

    /* Filter Accesscories items */
    filterAccessories = () => {
      let filterProducts = document.querySelector('.list-products');
      filterProducts.innerHTML = '';
      productsAccessories = products.filter(x => x.category === 'Accessories');
      filterProducts.innerHTML = productsAccessories
        .map(
          (item, index) =>
            `<div class="product" index=${index}>
              <div class="img-product">
                <a href="#"><img src='${item.image}' /></a>
                <div class="link-detail-cart">
                  <a name="active-ele" class="link-detail" onclick="handleShowDesc(${index})">
                  <i class="fa fa-info"></i></a>
                  <a href="javascript:void(0)" class='add-to-cart btn-buy-now'>
                  <i class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
              <div class='name-price'>
                <a href="#">${item.name} </a>
                <div class='block-prices'>
                  <span class="prices">${item.price}</span>
                  <span class="prices-promo">${item.priceSale}</span>
                </div>
              </div>
            <div class="brand-product"><a href="#">${item.brand}</a></div>
            <div index=${index} name='description-product' class="description">
              <p>${item.desc}</p>
              <button onclick="handleIgnoreDesc(${index})">X</button>
            </div>
          </div>`
        )
        .join('');
    };

    /* Filter any product has a deal */
    filterDeals = () => {
      let filterProducts = document.querySelector('.list-products');
      filterProducts.innerHTML = '';
      productsDeals = products.filter(x => x.deal === 'Yes');
      filterProducts.innerHTML = productsDeals
        .map(
          (item, index) =>
            `<div class="product" index=${index}> 
          <div class="img-product">
            <a href="#"><img src='${item.image}' /></a>
            <div class="link-detail-cart">
              <a name="active-ele" class="link-detail" onclick="handleShowDesc(${index})" >
                <i class="fa fa-info"></i>
              </a>
              <a href="javascript:void(0)" class='add-to-cart btn-buy-now'>
                <i class="fa fa-shopping-cart"></i>
              </a>
            </div>
          </div>
          <div class='name-price'>
            <a href="#">${item.name} </a>
            <div class='block-prices'>
            <span class="prices">${item.price}</span>
            <span class="prices-promo">${item.priceSale}</span>
          </div>
        </div>
        <div class="brand-product"><a href="#">${item.brand}</a></div>
        <div index=${index} name='description-product' class="description">
          <p>${item.desc}</p>
          <button onclick="handleIgnoreDesc(${index})">X</button>
        </div>
        </div>`
        )
        .join('');
    };

    handleShowDesc = index => {
      let targetEle = document.querySelectorAll('div[name=description-product]');
      console.log('target element', targetEle);
      for (let i = 0; i < targetEle.length; i++) targetEle[i].classList.remove('active-ele');
      targetEle[index].classList.add('active-ele');
    };

    handleIgnoreDesc = () => {
      let targetEle = document.querySelectorAll('div[name=description-product]');
      for (let i = 0; i < targetEle.length; i++) {
        targetEle[i].classList.remove('active-ele');
      }
    };
  </script>
</body>

</html>
